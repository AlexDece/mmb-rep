function [residual, g1, g2, g3] = NK_RA16_rep_dynamic(y, x, params, steady_state, it_)
%
% Status : Computes dynamic model for Dynare
%
% Inputs :
%   y         [#dynamic variables by 1] double    vector of endogenous variables in the order stored
%                                                 in M_.lead_lag_incidence; see the Manual
%   x         [M_.exo_nbr by nperiods] double     matrix of exogenous variables (in declaration order)
%                                                 for all simulation periods
%   params    [M_.param_nbr by 1] double          vector of parameter values in declaration order
%   it_       scalar double                       time period for exogenous variables for which to evaluate the model
%
% Outputs:
%   residual  [M_.endo_nbr by 1] double    vector of residuals of the dynamic model equations in order of 
%                                          declaration of the equations
%   g1        [M_.endo_nbr by #dynamic variables] double    Jacobian matrix of the dynamic model equations;
%                                                           rows: equations in order of declaration
%                                                           columns: variables in order stored in M_.lead_lag_incidence
%   g2        [M_.endo_nbr by (#dynamic variables)^2] double   Hessian matrix of the dynamic model equations;
%                                                              rows: equations in order of declaration
%                                                              columns: variables in order stored in M_.lead_lag_incidence
%   g3        [M_.endo_nbr by (#dynamic variables)^3] double   Third order derivative matrix of the dynamic model equations;
%                                                              rows: equations in order of declaration
%                                                              columns: variables in order stored in M_.lead_lag_incidence
%
%
% Warning : this file is generated automatically by Dynare
%           from model file (.mod)

%
% Model equations
%

residual = zeros(71, 1);
T15 = 1/((1-params(3))*(1-params(3)*params(1)));
T46 = 1/(1+params(1));
T80 = 1/(1+params(1)*params(75));
T176 = params(9)*params(1)^2*params(63)^2;
T180 = params(42)*params(62)/params(39);
T228 = params(32)*params(25)/(1-params(31));
T308 = params(28)*params(13)*params(50)*params(41)/params(38);
T313 = params(25)*params(29)/params(28);
lhs =y(37);
rhs =T15*((-(y(34)-params(3)*y(3)))+params(3)*params(1)*(y(99)-params(3)*y(34)));
residual(1)= lhs-rhs;
residual(2) = y(38)+y(104)-y(102);
lhs =y(59);
rhs =y(37)-y(4);
residual(3)= lhs-rhs;
lhs =params(2)*y(31);
rhs =y(37)+y(43);
residual(4)= lhs-rhs;
lhs =y(29);
rhs =T46*(y(1)+params(1)*y(98)+y(45)/params(6));
residual(5)= lhs-rhs;
lhs =y(30);
rhs =(1-params(5))*y(2)+y(29)*params(5);
residual(6)= lhs-rhs;
lhs =y(27);
rhs =params(4)*(y(2)+y(32))+(1-params(4))*(y(31)+y(44));
residual(7)= lhs-rhs;
lhs =y(46);
rhs =T80*(params(1)*y(102)+params(75)*y(8)+(1-params(1)*params(8))*(1-params(8))/params(8)*y(47));
residual(8)= lhs-rhs;
lhs =y(43)*params(48)*(1+params(10)*(params(39)-1))+y(38)*params(39)*params(48)*params(10);
rhs =params(48)*(1+params(10)*(params(39)-1))*(y(27)+y(47)-y(31));
residual(9)= lhs-rhs;
lhs =y(40)/params(46)+params(39)*y(38)*params(11)/(1+(params(39)-1)*params(11));
rhs =y(27)+y(47)-y(2)-y(32);
residual(10)= lhs-rhs;
lhs =y(53)*params(58);
rhs =params(48)*params(10)*params(49)*(y(31)+y(43))+params(46)*params(11)*params(50)*(y(2)+y(32)+y(40)/params(46));
residual(11)= lhs-rhs;
lhs =y(57);
rhs =y(54)-y(56);
residual(12)= lhs-rhs;
lhs =y(56);
rhs =params(9)*params(63)*(y(58)+y(13));
residual(13)= lhs-rhs;
lhs =y(36);
rhs =y(58)+y(13);
residual(14)= lhs-rhs;
lhs =params(63)*params(38)*(y(46)+y(58));
rhs =params(39)*y(5)+((params(42)-params(39))*y(14)+params(42)*y(41)-params(39)*y(5))*params(62);
residual(15)= lhs-rhs;
lhs =y(57);
rhs =T176*y(103)+T180*(y(101)-y(38));
residual(16)= lhs-rhs;
lhs =y(35);
rhs =y(49);
residual(17)= lhs-rhs;
lhs =y(48)*params(56);
rhs =y(49)*params(14)*params(55);
residual(18)= lhs-rhs;
lhs =params(41)*(y(39)+y(7));
rhs =y(46)*params(41)+params(38)*(y(40)+y(45)*(1-params(5)));
residual(19)= lhs-rhs;
lhs =y(50);
rhs =y(45)+y(30)-y(48);
residual(20)= lhs-rhs;
lhs =y(54)-y(48);
rhs =y(50)*params(37)/(params(37)-1);
residual(21)= lhs-rhs;
lhs =y(49);
rhs =y(39)+y(9)-y(46)+y(10)-T228*(y(11)-y(39));
residual(22)= lhs-rhs;
lhs =y(40);
rhs =y(32)*params(46)*params(79);
residual(23)= lhs-rhs;
lhs =y(100)-y(101);
rhs =y(50)*params(78);
residual(24)= lhs-rhs;
lhs =y(51);
rhs =y(42)+y(50)*1/(params(37)-1);
residual(25)= lhs-rhs;
lhs =y(39)*(params(41)*(params(31)-params(13)*params(28))-params(54)*(params(32)-params(13)*params(29)))+y(11)*params(54)*(params(32)-params(13)*params(29));
rhs =params(42)*(y(10)/params(37)+y(41)*(params(37)-1)/params(37));
residual(26)= lhs-rhs;
lhs =y(38)*params(39);
rhs =(1-params(19))*(y(46)*params(17)+y(47)*params(18))+params(39)*y(5)*params(19)+x(it_, 1);
residual(27)= lhs-rhs;
lhs =y(33)*params(71);
rhs =y(34)*params(70)+y(35)*params(61)+y(36)*params(69);
residual(28)= lhs-rhs;
lhs =y(27)*params(51);
rhs =y(33)*params(71)+y(29)*params(53)+params(23)*y(55)+T308*(y(2)+y(7)+y(39)-y(46)+(y(11)-y(39))*T313)+y(32)*params(46)*params(50);
residual(29)= lhs-rhs;
lhs =y(28)*params(72);
rhs =y(33)*params(71)+y(29)*params(53)+params(23)*y(55);
residual(30)= lhs-rhs;
lhs =params(59)*y(52);
rhs =y(53)*params(58)+y(54)*params(57);
residual(31)= lhs-rhs;
lhs =y(44);
rhs =params(20)*y(6)-x(it_, 2);
residual(32)= lhs-rhs;
lhs =y(55);
rhs =params(34)*y(12)-x(it_, 3);
residual(33)= lhs-rhs;
lhs =y(64);
rhs =y(38)*4;
residual(34)= lhs-rhs;
lhs =y(65);
rhs =y(46)*4;
residual(35)= lhs-rhs;
lhs =y(60);
rhs =4*(y(42)-y(38));
residual(36)= lhs-rhs;
lhs =y(61);
rhs =4*(y(100)-y(38));
residual(37)= lhs-rhs;
lhs =y(62);
rhs =(y(101)-y(38))*4;
residual(38)= lhs-rhs;
lhs =y(63);
rhs =(y(100)-y(101))*4;
residual(39)= lhs-rhs;
lhs =y(76);
rhs =T15*((-(y(73)-params(3)*y(17)))+params(3)*params(1)*(y(106)-params(3)*y(73)));
residual(40)= lhs-rhs;
residual(41) = y(77)+y(111)-y(109);
lhs =y(96);
rhs =y(76)-y(18);
residual(42)= lhs-rhs;
lhs =params(2)*y(70);
rhs =y(76)+y(82);
residual(43)= lhs-rhs;
lhs =y(68);
rhs =T46*(y(15)+params(1)*y(105)+y(83)/params(6));
residual(44)= lhs-rhs;
lhs =y(69);
rhs =(1-params(5))*y(16)+params(5)*y(68);
residual(45)= lhs-rhs;
lhs =y(66);
rhs =params(4)*(y(16)+y(71))+(1-params(4))*(y(44)+y(70));
residual(46)= lhs-rhs;
lhs =y(84);
rhs =T80*(params(1)*y(109)+params(75)*y(21)+(1-params(1)*params(80))*(1-params(80))/params(80)*y(85));
residual(47)= lhs-rhs;
lhs =params(48)*(1+params(10)*(params(39)-1))*y(82)+params(39)*params(48)*params(10)*y(77);
rhs =params(48)*(1+params(10)*(params(39)-1))*(y(66)+y(85)-y(70));
residual(48)= lhs-rhs;
lhs =y(79)/params(46)+params(39)*params(11)*y(77)/(1+(params(39)-1)*params(11));
rhs =y(66)+y(85)-y(16)-y(71);
residual(49)= lhs-rhs;
lhs =params(58)*y(91);
rhs =params(48)*params(10)*params(49)*(y(70)+y(82))+params(46)*params(11)*params(50)*(y(16)+y(71)+y(79)/params(46));
residual(50)= lhs-rhs;
lhs =y(94);
rhs =y(92)-y(93);
residual(51)= lhs-rhs;
lhs =y(93);
rhs =params(9)*params(63)*(y(95)+y(25));
residual(52)= lhs-rhs;
lhs =y(75);
rhs =y(95)+y(25);
residual(53)= lhs-rhs;
lhs =params(63)*params(38)*(y(84)+y(95));
rhs =params(39)*y(19)+params(62)*((params(42)-params(39))*y(26)+params(42)*y(80)-params(39)*y(19));
residual(54)= lhs-rhs;
lhs =y(94);
rhs =T176*y(110)+T180*(y(108)-y(77));
residual(55)= lhs-rhs;
lhs =y(74);
rhs =y(87);
residual(56)= lhs-rhs;
lhs =params(56)*y(86);
rhs =params(55)*params(14)*y(87);
residual(57)= lhs-rhs;
lhs =params(41)*(y(78)+y(20));
rhs =params(41)*y(84)+params(38)*(y(79)+(1-params(5))*y(83));
residual(58)= lhs-rhs;
lhs =y(88);
rhs =y(83)+y(69)-y(86);
residual(59)= lhs-rhs;
lhs =y(92)-y(86);
rhs =params(37)/(params(37)-1)*y(88);
residual(60)= lhs-rhs;
lhs =y(87);
rhs =y(78)+y(22)-y(84)+y(23)-T228*(y(24)-y(78));
residual(61)= lhs-rhs;
lhs =y(79);
rhs =params(46)*params(79)*y(71);
residual(62)= lhs-rhs;
lhs =y(107)-y(108);
rhs =params(78)*y(88);
residual(63)= lhs-rhs;
lhs =y(89);
rhs =y(81)+1/(params(37)-1)*y(88);
residual(64)= lhs-rhs;
lhs =(params(41)*(params(31)-params(13)*params(28))-params(54)*(params(32)-params(13)*params(29)))*y(78)+params(54)*(params(32)-params(13)*params(29))*y(24);
rhs =params(42)*(y(23)/params(37)+(params(37)-1)/params(37)*y(80));
residual(65)= lhs-rhs;
lhs =params(39)*y(77);
rhs =(1-params(19))*(params(17)*y(84)+params(18)*y(85))+params(39)*params(19)*y(19);
residual(66)= lhs-rhs;
lhs =params(71)*y(72);
rhs =params(70)*y(73)+params(61)*y(74)+params(69)*y(75);
residual(67)= lhs-rhs;
lhs =params(51)*y(66);
rhs =params(23)*y(55)+params(71)*y(72)+params(53)*y(68)+T308*(y(16)+y(20)+y(78)-y(84)+T313*(y(24)-y(78)))+params(46)*params(50)*y(71);
residual(68)= lhs-rhs;
lhs =params(72)*y(67);
rhs =params(23)*y(55)+params(71)*y(72)+params(53)*y(68);
residual(69)= lhs-rhs;
lhs =params(59)*y(90);
rhs =params(58)*y(91)+params(57)*y(92);
residual(70)= lhs-rhs;
lhs =y(97);
rhs =y(27)-y(66);
residual(71)= lhs-rhs;
if nargout >= 2,
  g1 = zeros(71, 114);

  %
  % Jacobian matrix
  %

  g1(1,3)=(-(params(3)*T15));
  g1(1,34)=(-(T15*((-1)+params(3)*params(1)*(-params(3)))));
  g1(1,99)=(-(params(3)*params(1)*T15));
  g1(1,37)=1;
  g1(2,38)=1;
  g1(2,102)=(-1);
  g1(2,104)=1;
  g1(3,4)=1;
  g1(3,37)=(-1);
  g1(3,59)=1;
  g1(4,31)=params(2);
  g1(4,37)=(-1);
  g1(4,43)=(-1);
  g1(5,1)=(-T46);
  g1(5,29)=1;
  g1(5,98)=(-(params(1)*T46));
  g1(5,45)=(-(T46*1/params(6)));
  g1(6,29)=(-params(5));
  g1(6,2)=(-(1-params(5)));
  g1(6,30)=1;
  g1(7,27)=1;
  g1(7,2)=(-params(4));
  g1(7,31)=(-(1-params(4)));
  g1(7,32)=(-params(4));
  g1(7,44)=(-(1-params(4)));
  g1(8,8)=(-(params(75)*T80));
  g1(8,46)=1;
  g1(8,102)=(-(params(1)*T80));
  g1(8,47)=(-(T80*(1-params(1)*params(8))*(1-params(8))/params(8)));
  g1(9,27)=(-(params(48)*(1+params(10)*(params(39)-1))));
  g1(9,31)=params(48)*(1+params(10)*(params(39)-1));
  g1(9,38)=params(39)*params(48)*params(10);
  g1(9,43)=params(48)*(1+params(10)*(params(39)-1));
  g1(9,47)=(-(params(48)*(1+params(10)*(params(39)-1))));
  g1(10,27)=(-1);
  g1(10,2)=1;
  g1(10,32)=1;
  g1(10,38)=params(39)*params(11)/(1+(params(39)-1)*params(11));
  g1(10,40)=1/params(46);
  g1(10,47)=(-1);
  g1(11,2)=(-(params(46)*params(11)*params(50)));
  g1(11,31)=(-(params(48)*params(10)*params(49)));
  g1(11,32)=(-(params(46)*params(11)*params(50)));
  g1(11,40)=(-(params(46)*params(11)*params(50)*1/params(46)));
  g1(11,43)=(-(params(48)*params(10)*params(49)));
  g1(11,53)=params(58);
  g1(12,54)=(-1);
  g1(12,56)=1;
  g1(12,57)=1;
  g1(13,13)=(-(params(9)*params(63)));
  g1(13,56)=1;
  g1(13,58)=(-(params(9)*params(63)));
  g1(14,36)=1;
  g1(14,13)=(-1);
  g1(14,58)=(-1);
  g1(15,5)=(-(params(39)+params(62)*(-params(39))));
  g1(15,41)=(-(params(42)*params(62)));
  g1(15,46)=params(63)*params(38);
  g1(15,14)=(-((params(42)-params(39))*params(62)));
  g1(15,58)=params(63)*params(38);
  g1(16,38)=T180;
  g1(16,101)=(-T180);
  g1(16,57)=1;
  g1(16,103)=(-T176);
  g1(17,35)=1;
  g1(17,49)=(-1);
  g1(18,48)=params(56);
  g1(18,49)=(-(params(14)*params(55)));
  g1(19,39)=params(41);
  g1(19,40)=(-params(38));
  g1(19,7)=params(41);
  g1(19,45)=(-((1-params(5))*params(38)));
  g1(19,46)=(-params(41));
  g1(20,30)=(-1);
  g1(20,45)=(-1);
  g1(20,48)=1;
  g1(20,50)=1;
  g1(21,48)=(-1);
  g1(21,50)=(-(params(37)/(params(37)-1)));
  g1(21,54)=1;
  g1(22,39)=(-(1-(-T228)));
  g1(22,46)=1;
  g1(22,9)=(-1);
  g1(22,49)=1;
  g1(22,10)=(-1);
  g1(22,11)=T228;
  g1(23,32)=(-(params(46)*params(79)));
  g1(23,40)=1;
  g1(24,100)=1;
  g1(24,101)=(-1);
  g1(24,50)=(-params(78));
  g1(25,42)=(-1);
  g1(25,50)=(-(1/(params(37)-1)));
  g1(25,51)=1;
  g1(26,39)=params(41)*(params(31)-params(13)*params(28))-params(54)*(params(32)-params(13)*params(29));
  g1(26,41)=(-(params(42)*(params(37)-1)/params(37)));
  g1(26,10)=(-(params(42)*1/params(37)));
  g1(26,11)=params(54)*(params(32)-params(13)*params(29));
  g1(27,5)=(-(params(39)*params(19)));
  g1(27,38)=params(39);
  g1(27,46)=(-((1-params(19))*params(17)));
  g1(27,47)=(-((1-params(19))*params(18)));
  g1(27,112)=(-1);
  g1(28,33)=params(71);
  g1(28,34)=(-params(70));
  g1(28,35)=(-params(61));
  g1(28,36)=(-params(69));
  g1(29,27)=params(51);
  g1(29,29)=(-params(53));
  g1(29,2)=(-T308);
  g1(29,32)=(-(params(46)*params(50)));
  g1(29,33)=(-params(71));
  g1(29,39)=(-(T308*(1-T313)));
  g1(29,7)=(-T308);
  g1(29,46)=T308;
  g1(29,11)=(-(T308*T313));
  g1(29,55)=(-params(23));
  g1(30,28)=params(72);
  g1(30,29)=(-params(53));
  g1(30,33)=(-params(71));
  g1(30,55)=(-params(23));
  g1(31,52)=params(59);
  g1(31,53)=(-params(58));
  g1(31,54)=(-params(57));
  g1(32,6)=(-params(20));
  g1(32,44)=1;
  g1(32,113)=1;
  g1(33,12)=(-params(34));
  g1(33,55)=1;
  g1(33,114)=1;
  g1(34,38)=(-4);
  g1(34,64)=1;
  g1(35,46)=(-4);
  g1(35,65)=1;
  g1(36,38)=4;
  g1(36,42)=(-4);
  g1(36,60)=1;
  g1(37,38)=4;
  g1(37,100)=(-4);
  g1(37,61)=1;
  g1(38,38)=4;
  g1(38,101)=(-4);
  g1(38,62)=1;
  g1(39,100)=(-4);
  g1(39,101)=4;
  g1(39,63)=1;
  g1(40,17)=(-(params(3)*T15));
  g1(40,73)=(-(T15*((-1)+params(3)*params(1)*(-params(3)))));
  g1(40,106)=(-(params(3)*params(1)*T15));
  g1(40,76)=1;
  g1(41,77)=1;
  g1(41,109)=(-1);
  g1(41,111)=1;
  g1(42,18)=1;
  g1(42,76)=(-1);
  g1(42,96)=1;
  g1(43,70)=params(2);
  g1(43,76)=(-1);
  g1(43,82)=(-1);
  g1(44,15)=(-T46);
  g1(44,68)=1;
  g1(44,105)=(-(params(1)*T46));
  g1(44,83)=(-(T46*1/params(6)));
  g1(45,68)=(-params(5));
  g1(45,16)=(-(1-params(5)));
  g1(45,69)=1;
  g1(46,44)=(-(1-params(4)));
  g1(46,66)=1;
  g1(46,16)=(-params(4));
  g1(46,70)=(-(1-params(4)));
  g1(46,71)=(-params(4));
  g1(47,21)=(-(params(75)*T80));
  g1(47,84)=1;
  g1(47,109)=(-(params(1)*T80));
  g1(47,85)=(-(T80*(1-params(1)*params(80))*(1-params(80))/params(80)));
  g1(48,66)=(-(params(48)*(1+params(10)*(params(39)-1))));
  g1(48,70)=params(48)*(1+params(10)*(params(39)-1));
  g1(48,77)=params(39)*params(48)*params(10);
  g1(48,82)=params(48)*(1+params(10)*(params(39)-1));
  g1(48,85)=(-(params(48)*(1+params(10)*(params(39)-1))));
  g1(49,66)=(-1);
  g1(49,16)=1;
  g1(49,71)=1;
  g1(49,77)=params(39)*params(11)/(1+(params(39)-1)*params(11));
  g1(49,79)=1/params(46);
  g1(49,85)=(-1);
  g1(50,16)=(-(params(46)*params(11)*params(50)));
  g1(50,70)=(-(params(48)*params(10)*params(49)));
  g1(50,71)=(-(params(46)*params(11)*params(50)));
  g1(50,79)=(-(params(46)*params(11)*params(50)*1/params(46)));
  g1(50,82)=(-(params(48)*params(10)*params(49)));
  g1(50,91)=params(58);
  g1(51,92)=(-1);
  g1(51,93)=1;
  g1(51,94)=1;
  g1(52,25)=(-(params(9)*params(63)));
  g1(52,93)=1;
  g1(52,95)=(-(params(9)*params(63)));
  g1(53,75)=1;
  g1(53,25)=(-1);
  g1(53,95)=(-1);
  g1(54,19)=(-(params(39)+params(62)*(-params(39))));
  g1(54,80)=(-(params(42)*params(62)));
  g1(54,84)=params(63)*params(38);
  g1(54,26)=(-((params(42)-params(39))*params(62)));
  g1(54,95)=params(63)*params(38);
  g1(55,77)=T180;
  g1(55,108)=(-T180);
  g1(55,94)=1;
  g1(55,110)=(-T176);
  g1(56,74)=1;
  g1(56,87)=(-1);
  g1(57,86)=params(56);
  g1(57,87)=(-(params(14)*params(55)));
  g1(58,78)=params(41);
  g1(58,79)=(-params(38));
  g1(58,20)=params(41);
  g1(58,83)=(-((1-params(5))*params(38)));
  g1(58,84)=(-params(41));
  g1(59,69)=(-1);
  g1(59,83)=(-1);
  g1(59,86)=1;
  g1(59,88)=1;
  g1(60,86)=(-1);
  g1(60,88)=(-(params(37)/(params(37)-1)));
  g1(60,92)=1;
  g1(61,78)=(-(1-(-T228)));
  g1(61,84)=1;
  g1(61,22)=(-1);
  g1(61,87)=1;
  g1(61,23)=(-1);
  g1(61,24)=T228;
  g1(62,71)=(-(params(46)*params(79)));
  g1(62,79)=1;
  g1(63,107)=1;
  g1(63,108)=(-1);
  g1(63,88)=(-params(78));
  g1(64,81)=(-1);
  g1(64,88)=(-(1/(params(37)-1)));
  g1(64,89)=1;
  g1(65,78)=params(41)*(params(31)-params(13)*params(28))-params(54)*(params(32)-params(13)*params(29));
  g1(65,80)=(-(params(42)*(params(37)-1)/params(37)));
  g1(65,23)=(-(params(42)*1/params(37)));
  g1(65,24)=params(54)*(params(32)-params(13)*params(29));
  g1(66,19)=(-(params(39)*params(19)));
  g1(66,77)=params(39);
  g1(66,84)=(-((1-params(19))*params(17)));
  g1(66,85)=(-((1-params(19))*params(18)));
  g1(67,72)=params(71);
  g1(67,73)=(-params(70));
  g1(67,74)=(-params(61));
  g1(67,75)=(-params(69));
  g1(68,55)=(-params(23));
  g1(68,66)=params(51);
  g1(68,68)=(-params(53));
  g1(68,16)=(-T308);
  g1(68,71)=(-(params(46)*params(50)));
  g1(68,72)=(-params(71));
  g1(68,78)=(-(T308*(1-T313)));
  g1(68,20)=(-T308);
  g1(68,84)=T308;
  g1(68,24)=(-(T308*T313));
  g1(69,55)=(-params(23));
  g1(69,67)=params(72);
  g1(69,68)=(-params(53));
  g1(69,72)=(-params(71));
  g1(70,90)=params(59);
  g1(70,91)=(-params(58));
  g1(70,92)=(-params(57));
  g1(71,27)=(-1);
  g1(71,66)=1;
  g1(71,97)=1;
end
if nargout >= 3,
  %
  % Hessian matrix
  %

  g2 = sparse([],[],[],71,12996);
end
if nargout >= 4,
  %
  % Third order derivatives
  %

  g3 = sparse([],[],[],71,1481544);
end
end
